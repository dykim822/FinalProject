<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="carpoolns">
	<insert id="create" parameterType="CarpoolDTO">
		insert into carpool
		(carpoolno,id,carpooldate,c_start,c_startv,c_end,c_endv,via,viav,
		purpose,c_type,kind,startdate,seat,now_seat,price,smoke,c_comment)
		values (
		(SELECT NVL(MAX(carpoolno), 0) + 1 as carpoolno FROM carpool),
		#{id},
		(SELECT TO_CHAR(SYSDATE, 'YYYY-MM-DD') AS carpooldate from
		dual),
		#{c_start},#{c_startv},#{c_end},#{c_endv},#{via},#{viav},#{purpose},#{c_type},
		#{kind},to_date(#{startdate},'yyyy-mm-dd hh24:mi'),#{seat},#{now_seat},#{price},#{smoke},#{c_comment})
	</insert>
</mapper>